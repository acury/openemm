<?xml version="1.0" encoding="UTF-8"?>
<!--
	Application context definition for AGNITAS OpenEMM business layer.
	Contains bean references to the transaction manager and to the DAOs in
	dataAccessContext.xml (see web.xml's "contextConfigLocation").
-->
<beans
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context.xsd">

	<context:component-scan base-package="org.agnitas" />
	<context:component-scan base-package="com.agnitas" />

	<bean name="/importprofile" class="org.agnitas.web.ImportProfileAction">
		<property name="userActivityLogService" ref="UserActivityLogService" />
		<property name="importProfileService" ref="ImportProfileService"/>
		<property name="adminService" ref="AdminService"/>
		<property name="configService" ref="ConfigService" />
		<property name="importRecipientsDao" ref="ImportRecipientsDao" />
		<property name="columnInfoService" ref="ColumnInfoService" />
        <property name="webStorage" ref="WebStorage" />
 		<property name="mailinglistApprovalService" ref="MailinglistApprovalService" />
    </bean>

	<bean name="/exportwizard" class="org.agnitas.web.ExportWizardAction">
		<property name="targetService" ref="targetService" />
		<property name="dataSource" ref="dataSource" />
		<property name="mailinglistService" ref="MailinglistService" />
		<property name="userActivityLogService" ref="UserActivityLogService" />
		<property name="configService" ref="ConfigService" />
		<property name="workerExecutorService" ref="WorkerExecutorService" />
		<property name="futureHolder" ref="futureHolder" />
		<property name="javaMailService" ref="JavaMailService" />
		<property name="recipientExportReporter" ref="RecipientExportReporter"/>
		<property name="exportPredefService" ref="ExportPredefService" />
		<property name="mailinglistApprovalService" ref="MailinglistApprovalService" />
		<property name="recipientExportWorkerFactory" ref="RecipientExportWorkerFactory" />
        <property name="columnInfoService" ref="ColumnInfoService"/>
	</bean>

	<bean name="/importprofile_columns" class="com.agnitas.web.ImportProfileColumnsAction">
		<property name="userActivityLogService" ref="UserActivityLogService" />
		<property name="importProfileService" ref="ImportProfileService" />
		<property name="profileFieldDao" ref="ProfileFieldDao" />
		<property name="recipientDao" ref="RecipientDao" />
		<property name="configService" ref="ConfigService" />
		<property name="importRecipientsDao" ref="ImportRecipientsDao" />
	</bean>

	<bean name="/newimportwizard" class="org.agnitas.web.ProfileImportAction">
		<property name="userActivityLogService" ref="UserActivityLogService" />
		<property name="configService" ref="ConfigService" />
		<property name="mailinglistService" ref="MailinglistService" />
		<property name="recipientDao" ref="RecipientDao" />
		<property name="datasourceDescriptionDao" ref="DatasourceDescriptionDao" />
		<property name="workerExecutorService" ref="WorkerExecutorService" />
		<property name="futureHolder" ref="futureHolder" />
		<property name="importRecipientsDao" ref="ImportRecipientsDao" />
		<property name="emmActionService" ref="EmmActionService" />
		<property name="profileImportReporter" ref="ProfileImportReporter" />
        <property name="importProfileService" ref="ImportProfileService"/>
        <property name="webStorage" ref="WebStorage" />
		<property name="mailinglistApprovalService" ref="MailinglistApprovalService" />
		<property name="profileImportWorkerFactory" ref="ProfileImportWorkerFactory" />
    </bean>

</beans>
